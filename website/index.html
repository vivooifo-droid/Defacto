<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defacto - Low-Level Programming Language for x86-32</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="index.html" class="logo">Def<span>acto</span></a>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="docs/index.html">Documentation</a></li>
                    <li><a href="download.html">Download</a></li>
                    <li><a href="examples/index.html">Examples</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <h1>Defacto <span>v0.30</span></h1>
        <p>Low-level programming language for x86-32, bare-metal experiments, and custom toolchains</p>
        <div class="hero-buttons">
            <a href="download.html" class="btn btn-primary">Download Now</a>
            <a href="docs/index.html" class="btn btn-secondary">Read Documentation</a>
        </div>
    </section>

    <main>
        <section class="features">
            <div class="feature-card">
                <h3>Bare-Metal Development</h3>
                <p>Write operating systems, bootloaders, and low-level system software directly for x86-32 architecture without runtime overhead.</p>
            </div>
            <div class="feature-card">
                <h3>Automatic Memory Management</h3>
                <p>Built-in memory management automatically frees variables at the end of each section. No manual memory handling required.</p>
            </div>
            <div class="feature-card">
                <h3>Native Addons</h3>
                <p>Extend Defacto with high-performance libraries written in Rust or C++. Full FFI support for native code integration.</p>
            </div>
            <div class="feature-card">
                <h3>Simple Syntax</h3>
                <p>Clean, readable syntax inspired by modern languages while maintaining low-level control and performance.</p>
            </div>
            <div class="feature-card">
                <h3>Hardware Drivers</h3>
                <p>Built-in support for hardware drivers including keyboard, mouse, and PC speaker with simple declaration syntax.</p>
            </div>
            <div class="feature-card">
                <h3>Package Manager</h3>
                <p>Defo package manager makes it easy to share and reuse code. Install dependencies from Git repositories.</p>
            </div>
        </section>

        <section class="code-section">
            <h2>Hello World in Defacto</h2>
            <div class="code-example">
<span class="comment">#Mainprogramm.start</span>
<span class="keyword">#NO_RUNTIME</span>
<span class="keyword">#SAFE</span>

&lt;<span class="keyword">.de</span>
    <span class="keyword">var</span> <span class="type">hello</span>: <span class="type">string</span> = <span class="string">"Hello, World!"</span>
    <span class="keyword">static.pl&gt;</span>
    <span class="function">display</span>{hello}
<span class="keyword">.&gt;</span>

<span class="comment">#Mainprogramm.end</span>
            </div>
        </section>

        <section class="code-section">
            <h2>Structures and Types</h2>
            <div class="code-example">
<span class="comment"># Define a custom structure</span>
<span class="keyword">struct</span> <span class="type">Player</span> {
    <span class="type">x</span>: <span class="type">i32</span>
    <span class="type">y</span>: <span class="type">i32</span>
    <span class="type">health</span>: <span class="type">i32</span>
    <span class="type">score</span>: <span class="type">i32</span>
}

&lt;<span class="keyword">.de</span>
    <span class="keyword">var</span> <span class="type">player</span>: <span class="type">Player</span>
    <span class="keyword">static.pl&gt;</span>
    
    <span class="comment"># Access fields with dot notation</span>
    player.<span class="type">x</span> = <span class="string">100</span>
    player.<span class="type">y</span> = <span class="string">200</span>
    player.<span class="type">health</span> = <span class="string">100</span>
    player.<span class="type">score</span> = <span class="string">0</span>
    
    <span class="comment"># Use in expressions</span>
    player.<span class="type">health</span> = (player.<span class="type">health</span> - <span class="string">10</span>)
    player.<span class="type">score</span> = (player.<span class="type">score</span> + <span class="string">100</span>)
<span class="keyword">.&gt;</span>
            </div>
        </section>

        <section class="code-section">
            <h2>Conditional Logic</h2>
            <div class="code-example">
&lt;<span class="keyword">.de</span>
    <span class="keyword">var</span> <span class="type">x</span>: <span class="type">i32</span> = <span class="string">5</span>
    <span class="keyword">var</span> <span class="type">msg</span>: <span class="type">string</span> = <span class="string">"equal"</span>
    <span class="keyword">var</span> <span class="type">err</span>: <span class="type">string</span> = <span class="string">"not equal"</span>
    <span class="keyword">static.pl&gt;</span>

    <span class="keyword">if</span> <span class="type">x</span> == <span class="string">5</span> {
        <span class="function">display</span>{msg}
    } <span class="keyword">else</span> {
        <span class="function">display</span>{err}
    }
<span class="keyword">.&gt;</span>
            </div>
        </section>

        <section class="code-section">
            <h2>Hardware Drivers</h2>
            <div class="code-example">
<span class="comment"># Define a keyboard driver</span>
&lt;<span class="keyword">drv.</span>
<span class="keyword">Const</span>.<span class="type">driver</span> = <span class="type">keyboard_driver</span>
<span class="type">keyboard_driver</span> &lt;&lt;<span class="type">func</span> = <span class="type">keyboard</span>&gt;&gt;
<span class="keyword">.dr&gt;</span>

&lt;<span class="keyword">.de</span>
    <span class="keyword">var</span> <span class="type">key</span>: <span class="type">i32</span> = <span class="string">0</span>
    <span class="keyword">static.pl&gt;</span>

    <span class="function">call</span> #<span class="type">keyboard_driver</span>
    <span class="function">readkey</span>{key}
    <span class="function">display</span>{key}
<span class="keyword">.&gt;</span>
            </div>
        </section>

        <section class="features" style="margin-top: 3rem;">
            <div class="feature-card">
                <h3>Supported Types</h3>
                <table class="syntax-table">
                    <tr><th>Type</th><th>Size</th><th>Description</th></tr>
                    <tr><td><code>i32</code></td><td>4 bytes</td><td>Signed integer</td></tr>
                    <tr><td><code>i64</code></td><td>8 bytes</td><td>Signed integer</td></tr>
                    <tr><td><code>u8</code></td><td>1 byte</td><td>Unsigned byte</td></tr>
                    <tr><td><code>string</code></td><td>pointer</td><td>Null-terminated string</td></tr>
                    <tr><td><code>pointer</code></td><td>4 bytes</td><td>Raw address</td></tr>
                </table>
            </div>
            <div class="feature-card">
                <h3>Built-in Functions</h3>
                <ul>
                    <li><code>display{msg}</code> - Output string</li>
                    <li><code>readkey{var}</code> - Read keyboard scan code</li>
                    <li><code>readchar{var}</code> - Read ASCII character</li>
                    <li><code>color{attr}</code> - Set color attribute</li>
                    <li><code>clear{}</code> - Clear screen</li>
                    <li><code>reboot{}</code> - System reboot</li>
                </ul>
            </div>
            <div class="feature-card">
                <h3>Compilation Modes</h3>
                <ul>
                    <li><strong>-kernel</strong> - Bare-metal x86-32 (default)</li>
                    <li><strong>-terminal</strong> - Linux syscalls</li>
                    <li><strong>-terminal-macos</strong> - macOS syscalls (Mach-O x86_64)</li>
                </ul>
            </div>
        </section>

        <div class="alert alert-info">
            <strong>Pre-Alpha Status:</strong> Defacto v0.30 is under active development. The language and toolchain are unstable and will change.
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h4>Defacto Language</h4>
                <p>Low-level programming language for x86-32 and bare-metal development.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="docs/index.html">Documentation</a></li>
                    <li><a href="download.html">Download</a></li>
                    <li><a href="examples/index.html">Examples</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Resources</h4>
                <ul>
                    <li><a href="https://github.com/vivooifo-droid/Defacto">GitHub Repository</a></li>
                    <li><a href="https://github.com/vivooifo-droid/Defacto/issues">Issue Tracker</a></li>
                    <li><a href="https://www.nasm.us/">NASM (Required)</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Community</h4>
                <ul>
                    <li><a href="https://github.com/vivooifo-droid/Defacto/discussions">Discussions</a></li>
                    <li><a href="https://github.com/vivooifo-droid/Defacto/releases">Releases</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Defacto v0.30 (pre-alpha) - Low-level programming language for x86-32</p>
        </div>
    </footer>
</body>
</html>
