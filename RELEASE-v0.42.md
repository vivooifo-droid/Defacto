# Defacto v0.42 - Pointer Bug Fixes Release üöÄ

## –î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞: 28 –§–µ–≤—Ä–∞–ª—è 2026

## üéâ –ß—Ç–æ –Ω–æ–≤–æ–≥–æ

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞:

**Lexer (lexer.h):**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–æ–∫–µ–Ω `*` ‚Äî —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `TT::STAR` –≤–º–µ—Å—Ç–æ `TT::MUL`

**Parser (parser.h):**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö: `*ptr`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: `var y: i32 = *ptr`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è: `*ptr = value`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `parse_multiplicative()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `TT::STAR`

**Codegen (codegen.h):**
- 64-bit macOS: –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ 8-–±–∞–π—Ç–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ `qword` –∏ `rcx`
- 64-bit macOS: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `&x` —á–µ—Ä–µ–∑ `lea` –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `display{}` –¥–ª—è i32/i64/u8 —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `printnum`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: —Å–Ω–∞—á–∞–ª–∞ `&x`, –ø–æ—Ç–æ–º `*ptr`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `*ptr = value` –≤ `gen_assign()`

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```de
var x: i32 = 42
var ptr: *i32 = &x
var y: i32 = *ptr       // y = 42
*ptr = 100              // x = 100
```

**display{} —Å —á–∏—Å–ª–∞–º–∏:**
```de
var x: i32 = 42
display{x}              // –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç! –í—ã–≤–æ–¥: 42
```

**–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å:**
```de
var ptr: *i32 = &x
var ptr2: **i32 = &ptr
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### macOS (Homebrew)

```bash
brew tap vivooifo-droid/Defacto
brew install defacto
```

### Linux

```bash
sudo apt update
sudo apt install build-essential nasm
cd compiler && make
```

### Windows

–°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫: `defacto-0.42-installer.exe`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–∏–º–µ—Ä–∞ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
./defacto pointers-prototype/examples/with-allocator.de -o test
./test

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# 42
# 42
```

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `compiler/src/lexer.h` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–æ–∫–µ–Ω `*`
- `compiler/src/parser.h` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è
- `compiler/src/codegen.h` ‚Äî 64-bit —Ñ–∏–∫—Å—ã –∏ codegen
- `README.md` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ v0.42
- `README.ru.md` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ v0.42
- `install.sh` ‚Äî –≤–µ—Ä—Å–∏—è 0.42
- `installer.nsi` ‚Äî –≤–µ—Ä—Å–∏—è 0.42
- `build-windows-installer.sh` ‚Äî –≤–µ—Ä—Å–∏—è 0.42

### –£–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `RELEASE-v0.30.md`
- `RELEASE-v0.35.md`
- `RELEASE-v0.40.md`
- `RELEASE-v0.40-MEGA.md`
- `RELEASE-v0.40-FINAL.md`
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–±–æ—Ä–∫–∏ (`*.out`, `*.asm`, `test_*`)

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –î–≤–æ–π–Ω–æ–µ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ `**ptr` –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö
- –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –ù–µ—Ç borrow checker –∫–∞–∫ –≤ Rust

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `README.md`
- –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è: `README.ru.md`
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å: `SYNTAX.md`
- –ü—Ä–∏–º–µ—Ä—ã: `pointers-prototype/examples/`

## üîß –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°–±–æ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

```bash
cd compiler
make
./defacto -h
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç
./defacto hello.de -o hello
./hello

# –¢–µ—Å—Ç —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
./defacto pointers-prototype/examples/basic.de -o test
./test
```

## üéØ –ü–ª–∞–Ω—ã –Ω–∞ v0.43

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `**ptr` (–¥–≤–æ–π–Ω–æ–µ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ)
- [ ] –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π: `ptr + 1`, `ptr - 1`
- [ ] –ò–Ω–¥–µ–∫—Å—ã –≤ —É–∫–∞–∑–∞—Ç–µ–ª—è—Ö: `ptr[0]`, `ptr[i]`
- [ ] –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (Box, Rc)
- [ ] –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫

---

**–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Defacto!** üéâ
